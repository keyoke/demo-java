<?xml version="1.0" encoding="utf-8"?>
<ApplicationInsights xmlns="http://schemas.microsoft.com/ApplicationInsights/2013/Settings" schemaVersion="2014-05-30">


  <!-- The key from the portal: -->
  <!-- 
    System property: -DAPPLICATION_INSIGHTS_IKEY=your_ikey
    Environment variable: APPLICATION_INSIGHTS_IKEY
    Configuration file: ApplicationInsights.xml
  -->
  <InstrumentationKey></InstrumentationKey>
  <PerformanceCounters collectionFrequencyInSec="60">
    <!--
    Built-in performance counters include:
      * Everything in the <Jvm /> section
      * These system performance counters (collected on both Linux and Windows):
        - category=Process, name=Private Bytes, instance="__SELF__"
        - category=Process, name=% Processor Time, instance="__SELF__"
        - category=Processor, name=% Processor Time, instance="_Total"
        - category=Process, name=IO Data Bytes/sec, instance="__SELF__"
        - category=Memory, name=Available Bytes, instance=""
    -->
    <UseBuiltIn>true</UseBuiltIn>
    <!--
    This controls the JvmPerformanceCountersModule.
    It can be disabled, or each individual component can be disabled.
    This is optional; the example below shows the defaults.
    -->
    <Jvm enabled="true">
      <JvmPC name="GC" enabled="true" />
      <JvmPC name="MemoryUsage" enabled="true" />
      <JvmPC name="ThreadDeadLockDetector" enabled="true" />
    </Jvm>
    
    <!-- 
    Additional Linux system metrics are configured using the collectd plugin.
    https://github.com/Huachao/azure-content/blob/master/articles/application-insights/app-insights-java-collectd.md
    -->

    <!--
    Below, you'll find some example JMX metrics.
    There are three supported JMX metric attribute types: REGULAR (the default), COMPOSITE and TABULAR.
      COMPOSITE attributes are of the form 'X.y' and TABULAR attributes are of the form 'X.y.z'.
    -->
    <Jmx>
      <Add displayName="Thread Count(JMX)"
        objectName="java.lang:type=Threading"
        attribute="ThreadCount" />
      <Add displayName="Initial Heap Memory(JMX)"
        objectName="java.lang:type=Memory"
        attribute="HeapMemoryUsage.init" 
        type="COMPOSITE"/>
      <Add displayName="Current Loaded Class Count(JMX)"
        objectName="java.lang:type=ClassLoading"
        attribute="LoadedClassCount" /> 
    </Jmx>
  </PerformanceCounters>
  <!-- This turns on diagnostic level logging -->
  <SDKLogger />
</ApplicationInsights>
